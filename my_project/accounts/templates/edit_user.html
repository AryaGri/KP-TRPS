{% extends 'base.html' %}

{% block content %}
  <div class="container">
    <h2>Редактировать пользователя: {{ user.username }}</h2>

    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group">
        <label for="username">Логин:</label>
        <input type="text" name="username" id="username" class="form-control" value="{{ user.username }}" required>
      </div>

      <div class="form-group">
        <label for="full_name">ФИО:</label>
        <input type="text" name="full_name" id="full_name" class="form-control" value="{{ user.full_name }}" required>
      </div>

      <div class="form-group">
        <label for="birth_date">Дата рождения:</label>
        <input type="date" name="birth_date" id="birth_date" class="form-control" value="{{ user.birth_date }}" required>
      </div>

      <div class="form-group">
        <label for="role">Роль:</label>
        <select name="role" id="role" class="form-control" required>
          <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Администратор</option>
          <option value="doctor" {% if user.role == 'doctor' %}selected{% endif %}>Врач</option>
          <option value="parent" {% if user.role == 'parent' %}selected{% endif %}>Родитель</option>
          <option value="child" {% if user.role == 'child' %}selected{% endif %}>Ребёнок</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    </form>

    <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary mt-3">Назад к дашборду</a>
  </div>
{% endblock %}
